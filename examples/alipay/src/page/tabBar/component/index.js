const basicContainers = [
  {
    name: '基础视图',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01ikpS5s1XEa7W15gFN_!!6000000002892-2-tps-60-60.png',
    nameEn: 'View',
    path: '/page/component/view/view'
  },
  {
    name: '滚动视图',
    thumb:
      'https://gw.alicdn.com/imgextra/i1/O1CN01Mi9aFa1RMve4wgP54_!!6000000002098-2-tps-60-60.png',
    nameEn: 'ScrollView',
    path: '/page/component/scroll-view/scroll-view'
  },
  {
    name: '滑动视图',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01THVr2f1EAwGs94J4F_!!6000000000312-2-tps-60-60.png',
    nameEn: 'Swiper',
    path: '/page/component/swiper/swiper'
  },
  {
    name: '可移动视图',
    thumb:
      'https://gw.alicdn.com/imgextra/i3/O1CN01g9Yp341be0ZUhA799_!!6000000003489-2-tps-90-90.png',
    nameEn: 'MovableView',
    path: '/page/component/movable-view/movable-view'
  },
  {
    name: '原生视图',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01WpvIb31LqnmfqnXsP_!!6000000001351-2-tps-90-90.png',
    nameEn: 'CoverView',
    path: '/page/component/cover-view/cover-view'
  }
]

const basicBasics = [
  {
    name: '文字',
    thumb:
      'https://gw.alicdn.com/imgextra/i1/O1CN01f4nCKP1V83EwY7lgQ_!!6000000002607-2-tps-60-60.png',
    nameEn: 'Text',
    path: '/page/component/text/text'
  },
  {
    name: '图标',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01wi6PuS1g5j0CFKuLp_!!6000000004091-2-tps-60-60.png',
    nameEn: 'Icon',
    path: '/page/component/icon/icon'
  },
  {
    name: '富文本',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01WzU6ih1VlthPbJPSy_!!6000000002694-2-tps-60-60.png',
    nameEn: 'RichText',
    path: '/page/component/rich-text/rich-text'
  }
]

const basicFeedBacks = [
  {
    name: '进度条',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01INpa3p1qxu0moYVP1_!!6000000005563-2-tps-60-60.png',
    nameEn: 'Progress',
    path: '/page/component/progress/progress'
  }
]

const basicForms = [
  {
    name: '按钮',
    thumb:
      'https://gw.alicdn.com/imgextra/i1/O1CN01UvW3kW1Iz66ooDeLb_!!6000000000963-2-tps-60-60.png',
    nameEn: 'Button',
    path: '/page/component/button/button'
  },
  {
    name: '表单',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01WzU6ih1VlthPbJPSy_!!6000000002694-2-tps-60-60.png',
    nameEn: 'Form',
    path: '/page/component/form/form'
  },
  {
    name: '标签',
    thumb:
      'https://gw.alicdn.com/imgextra/i2/O1CN01582WeC1ocG44KA9YV_!!6000000005245-2-tps-60-60.png',
    nameEn: 'Label',
    path: '/page/component/label/label'
  },
  {
    name: '输入框',
    thumb:
      'https://img.alicdn.com/imgextra/i3/O1CN01lVPkry1b7US6NrJGR_!!6000000003418-2-tps-60-60.png',
    nameEn: 'Input',
    path: '/page/component/input/input'
  },
  {
    name: '多行输入框',
    thumb:
      'https://gw.alicdn.com/imgextra/i3/O1CN01OLXd9G1K9SghWEODP_!!6000000001121-2-tps-60-60.png',
    nameEn: 'Textarea',
    path: '/page/component/textarea/textarea'
  },
  {
    name: '单选框',
    thumb:
      'https://gw.alicdn.com/imgextra/i2/O1CN01P2pYkv1YKMjkVal25_!!6000000003040-2-tps-60-60.png',
    nameEn: 'Radio',
    path: '/page/component/radio/radio'
  },
  {
    name: '复选框',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01yeYvy51sBTMSn5ufE_!!6000000005728-2-tps-60-60.png',
    nameEn: 'Checkbox',
    path: '/page/component/checkbox/checkbox'
  },
  {
    name: '开关',
    thumb:
      'https://gw.alicdn.com/imgextra/i1/O1CN019lC0H61gvw9gVud6d_!!6000000004205-2-tps-60-60.png',
    nameEn: 'Switch',
    path: '/page/component/switch/switch'
  },
  {
    name: '滑动条',
    thumb:
      'https://gw.alicdn.com/imgextra/i2/O1CN01SLwjEm1OCu83xswWl_!!6000000001670-2-tps-60-60.png',
    nameEn: 'Slider',
    path: '/page/component/slider/slider'
  },
  {
    name: '选择器视图',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01YSPu181Ug755etc31_!!6000000002546-2-tps-60-60.png',
    nameEn: 'PickerView',
    path: '/page/component/picker-view/picker-view'
  },
  {
    name: '选择器',
    thumb:
      'https://gw.alicdn.com/imgextra/i1/O1CN015ZiZqa1zKokvUX6ez_!!6000000006696-2-tps-60-60.png',
    nameEn: 'Picker',
    path: '/page/component/picker/picker'
  }
]

const basicNavigators = [
  {
    name: '导航',
    thumb:
      'https://gw.alicdn.com/imgextra/i3/O1CN01mXx8U91zPr6ycGuDY_!!6000000006707-2-tps-60-60.png',
    nameEn: 'Navigator',
    path: '/page/component/navigator/navigator'
  }
]

const basicMedias = [
  {
    name: '图片',
    thumb:
      'https://gw.alicdn.com/imgextra/i2/O1CN01zWIRFj1bNyi6f2r2z_!!6000000003454-2-tps-60-60.png',
    nameEn: 'Image',
    path: '/page/component/image/image'
  }
]

const basicMaps = [
  {
    name: '地图',
    thumb:
      'https://gw.alicdn.com/imgextra/i3/O1CN01I9lCsB1T2tY9YsnLN_!!6000000002325-2-tps-60-60.png',
    nameEn: 'Map',
    path: '/page/component/map/map'
  }
]

const basicCanvas = [
  {
    name: '画布',
    thumb:
      'https://gw.alicdn.com/imgextra/i3/O1CN01ylv0Lu1TYUsZ7HQ31_!!6000000002394-2-tps-60-60.png',
    nameEn: 'Canvas',
    path: '/page/component/canvas/canvas'
  }
]

const basicOpens = [
  {
    name: '内嵌webview',
    thumb:
      'https://gw.alicdn.com/imgextra/i1/O1CN01Ba3Xy920To94kvMWp_!!6000000006851-2-tps-60-60.png',
    nameEn: 'Webview',
    path: '/page/component/webview/webview'
  },
  {
    name: '关注生活号',
    thumb:
      'https://gw.alicdn.com/imgextra/i3/O1CN016p2yIJ1OBzKx0msou_!!6000000001668-2-tps-60-60.png',
    nameEn: 'Lifestyle',
    path: '/page/component/lifestyle/lifestyle'
  },
  {
    name: '智能客服',
    thumb:
      'https://gw.alicdn.com/imgextra/i2/O1CN01ZTPeda1vWUNwHyDcQ_!!6000000006180-2-tps-60-60.png',
    nameEn: 'contact-button',
    path: '/page/component/contact-button/contact-button'
  },
  {
    name: '收藏',
    thumb:
      'https://gw.alicdn.com/imgextra/i3/O1CN01eLi0Mn1erErOO93HX_!!6000000003924-2-tps-60-60.png',
    nameEn: 'Favorite',
    path: '/page/component/favorite/favorite'
  }
]

let basicComponentList = [
  {
    type: '视图容器',
    list: basicContainers
  },
  {
    type: '基础组件',
    list: basicBasics
  },
  {
    type: '反馈',
    list: basicFeedBacks
  },
  {
    type: '表单',
    list: basicForms
  },
  {
    type: '导航',
    list: basicNavigators
  },
  {
    type: '媒体',
    list: basicMedias
  },
  {
    type: '画布',
    list: basicCanvas
  }
]

if (my.ap) {
  basicComponentList = basicComponentList.concat([
    {
      type: '地图',
      list: basicMaps
    },
    {
      type: '开放组件',
      list: basicOpens
    }
  ])
}

const extContainers = [
  {
    name: '容器',
    thumb:
      'https://gw.alicdn.com/imgextra/i1/O1CN01zwxMrp1kg8xgAG6e3_!!6000000004712-2-tps-60-60.png',
    nameEn: 'Container',
    path: '/page/component/container/index'
  },
  {
    name: '模块标题',
    thumb:
      'https://gw.alicdn.com/imgextra/i3/O1CN01mXx8U91zPr6ycGuDY_!!6000000006707-2-tps-60-60.png',
    nameEn: 'Title',
    path: '/page/component/title/index'
  },
  {
    name: '列表',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01WzU6ih1VlthPbJPSy_!!6000000002694-2-tps-60-60.png',
    nameEn: 'List',
    path: '/page/component/list/list'
  },
  {
    name: '列表元素',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01XJJFrV1KijBS9dwEo_!!6000000001198-2-tps-60-60.png',
    nameEn: 'List-item',
    path: '/page/component/list-item/index'
  },
  {
    name: '顶部选项卡',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01Pz3OQ72AAFNzUg7HH_!!6000000008162-2-tps-60-60.png',
    nameEn: 'Tabs',
    path: '/page/component/tabs/tabs'
  },
  {
    name: '纵向选项卡',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN019sQjAy1VoBgDPWTfD_!!6000000002699-2-tps-60-60.png',
    nameEn: 'Vtabs',
    path: '/page/component/vtabs/vtabs'
  },
  {
    name: '卡片',
    thumb:
      'https://gw.alicdn.com/imgextra/i1/O1CN019NJaxO1l1fZY5sAbp_!!6000000004759-2-tps-60-60.png',
    nameEn: 'Card',
    path: '/page/component/card/card'
  },
  {
    name: '票券',
    thumb:
      'https://gw.alicdn.com/imgextra/i1/O1CN016i6LIn1EqcJXQXJMU_!!6000000000403-2-tps-60-60.png',
    nameEn: 'Coupon',
    path: '/page/component/coupon/index'
  },
  {
    name: '宫格',
    thumb:
      'https://gw.alicdn.com/imgextra/i3/O1CN01YrheS71D6zEfWBc1R_!!6000000000168-2-tps-60-60.png',
    nameEn: 'Grid',
    path: '/page/component/grid/grid'
  },
  {
    name: '步骤条',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01RyfPCP1WhbbV6qbuL_!!6000000002820-2-tps-60-60.png',
    nameEn: 'Steps',
    path: '/page/component/steps/steps'
  },
  {
    name: '页脚',
    thumb:
      'https://gw.alicdn.com/imgextra/i2/O1CN01CDg6xs1xs8KfRnwiM_!!6000000006498-2-tps-60-60.png',
    nameEn: 'Footer',
    path: '/page/component/footer/footer'
  },
  {
    name: '协议',
    thumb:
      'https://gw.alicdn.com/imgextra/i1/O1CN01xzzljd25SxUKDb2v5_!!6000000007526-2-tps-60-60.png',
    nameEn: 'Terms',
    path: '/page/component/terms/index'
  },
  {
    name: 'Flex 布局',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01ikpS5s1XEa7W15gFN_!!6000000002892-2-tps-60-60.png',
    nameEn: 'Flex',
    path: '/page/component/flex/flex'
  },
  {
    name: '折叠面板',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01E1MRVT21Z8MsErvnX_!!6000000006998-2-tps-60-60.png',
    nameEn: 'Collapse',
    path: '/page/component/collapse/index'
  }
]

const pops = [
  {
    name: '气泡',
    thumb:
      'https://gw.alicdn.com/imgextra/i1/O1CN01Ay5hiS1YRh4l7MpC3_!!6000000003056-2-tps-60-60.png',
    nameEn: 'Popover',
    path: '/page/component/popover/popover'
  },
  {
    name: '筛选',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01eQvGbh1fWuu4AoOmW_!!6000000004015-2-tps-60-60.png',
    nameEn: 'Filter',
    path: '/page/component/filter/filter'
  },
  {
    name: '对话框',
    thumb:
      'https://gw.alicdn.com/imgextra/i3/O1CN01q2rmo21EyrRODNiqX_!!6000000000421-2-tps-60-60.png',
    nameEn: 'Modal',
    path: '/page/component/modal/modal'
  },
  {
    name: '弹出菜单',
    thumb:
      'https://gw.alicdn.com/imgextra/i2/O1CN0191t2l31SZ7o0ZB0y0_!!6000000002260-2-tps-60-60.png',
    nameEn: 'Popup',
    path: '/page/component/popup/popup'
  }
]

const extForms = [
  {
    name: '文本输入',
    thumb:
      'https://gw.alicdn.com/imgextra/i3/O1CN01lVPkry1b7US6NrJGR_!!6000000003418-2-tps-60-60.png',
    nameEn: 'Input-item',
    path: '/page/component/input-item/input-item'
  },
  {
    name: '验证码框',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01O6YwlV27gMJED2HwV_!!6000000007826-2-tps-60-60.png',
    nameEn: 'Verify-code',
    path: '/page/component/verify-code/index'
  },
  {
    name: '选择输入',
    thumb:
      'https://gw.alicdn.com/imgextra/i1/O1CN015ZiZqa1zKokvUX6ez_!!6000000006696-2-tps-60-60.png',
    nameEn: 'Picker-item',
    path: '/page/component/picker-item/index'
  },
  {
    name: '长密码框',
    thumb:
      'https://gw.alicdn.com/imgextra/i2/O1CN019s8aUC1JvGPRMvWzv_!!6000000001090-2-tps-60-60.png',
    nameEn: 'Long-password',
    path: '/page/component/long-password/index'
  },
  {
    name: '多行输入',
    thumb:
      'https://gw.alicdn.com/imgextra/i3/O1CN01OLXd9G1K9SghWEODP_!!6000000001121-2-tps-60-60.png',
    nameEn: 'Multi-liner',
    path: '/page/component/multi-liner/index'
  },
  {
    name: '金额输入',
    thumb:
      'https://gw.alicdn.com/imgextra/i2/O1CN01hAHOYe22TT5DVLlFb_!!6000000007121-2-tps-60-60.png',
    nameEn: 'Amount-input',
    path: '/page/component/amount-input/amount-input'
  },
  {
    name: '按钮',
    thumb:
      'https://gw.alicdn.com/imgextra/i1/O1CN01UvW3kW1Iz66ooDeLb_!!6000000000963-2-tps-60-60.png',
    nameEn: 'Button',
    path: '/page/component/button-ali-ui/index'
  },
  {
    name: '开关',
    thumb:
      'https://gw.alicdn.com/imgextra/i1/O1CN019lC0H61gvw9gVud6d_!!6000000004205-2-tps-60-60.png',
    nameEn: 'Am-switch',
    path: '/page/component/switch-ali-ui/index'
  },
  {
    name: '复选框',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01CRKQtF1kFZzN7arHh_!!6000000004654-2-tps-60-60.png',
    nameEn: 'Am-checkbox',
    path: '/page/component/am-checkbox/am-checkbox'
  },
  {
    name: '单选框',
    thumb:
      'https://gw.alicdn.com/imgextra/i3/O1CN011VdLF01ccSqtu4Dpn_!!6000000003621-2-tps-60-60.png',
    nameEn: 'Am-radio',
    path: '/page/component/radio-ali-ui/index'
  },
  {
    name: '搜索框',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01sYVNUR1K5nWLzQ7rM_!!6000000001113-2-tps-60-60.png',
    nameEn: 'Search-bar',
    path: '/page/component/search-bar/search-bar'
  }
]

const results = [
  {
    name: '异常页',
    thumb:
      'https://gw.alicdn.com/imgextra/i2/O1CN016hCXN41HpBvcrFLdf_!!6000000000806-2-tps-60-60.png',
    nameEn: 'Page-result',
    path: '/page/component/page-result/page-result'
  },
  {
    name: '结果页',
    thumb:
      'https://gw.alicdn.com/imgextra/i2/O1CN01E1fRm01jIxIC5IQnr_!!6000000004526-2-tps-60-60.png',
    nameEn: 'Message',
    path: '/page/component/message/message'
  }
]

const tips = [
  {
    name: '引导',
    thumb:
      'https://gw.alicdn.com/imgextra/i2/O1CN01srhsmF1gRFcR4Hn5j_!!6000000004138-2-tps-60-60.png',
    nameEn: 'Tips',
    path: '/page/component/tips/tips'
  },
  {
    name: '通告栏',
    thumb:
      'https://gw.alicdn.com/imgextra/i3/O1CN01jfG45Q1QFJRZCiGK0_!!6000000001946-2-tps-60-60.png',
    nameEn: 'Notice',
    path: '/page/component/notice/notice'
  },
  {
    name: '徽标',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01ikpS5s1XEa7W15gFN_!!6000000002892-2-tps-60-60.png',
    nameEn: 'Badge',
    path: '/page/component/badge/badge'
  },
  {
    name: '标签',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01XpxbDr1MXOcKxz7uD_!!6000000001444-2-tps-60-60.png',
    nameEn: 'Tag',
    path: '/page/component/tag/index'
  },
  {
    name: '背景蒙层',
    thumb:
      'https://gw.alicdn.com/imgextra/i3/O1CN01YtZYkz1ogq1bSp1I6_!!6000000005255-2-tps-60-60.png',
    nameEn: 'Mask',
    path: '/page/component/mask/mask'
  },
  {
    name: '遮罩引导',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01jwC3W01u9IiXr4Ral_!!6000000005994-2-tps-60-60.png',
    nameEn: 'Guide',
    path: '/page/component/guide/guide'
  },
  {
    name: '头像',
    thumb:
      'https://gw.alicdn.com/imgextra/i1/O1CN01Em1Y4u1Ksntm9Xeng_!!6000000001220-2-tps-60-60.png',
    nameEn: 'Avatar',
    path: '/page/component/avatar/index'
  }
]

const gestures = [
  {
    name: '可滑动单元格',
    thumb:
      'https://gw.alicdn.com/imgextra/i3/O1CN01vGFIe31pHw6bpTO5Y_!!6000000005336-2-tps-60-60.png',
    nameEn: 'Swipe-action',
    path: '/page/component/swipe-action/swipe-action'
  }
]

const inputs = []

const others = [
  {
    name: '分页符',
    thumb:
      'https://gw.alicdn.com/imgextra/i3/O1CN01lMF4ar1FhkG2k5BIm_!!6000000000519-2-tps-60-60.png',
    nameEn: 'Pagination',
    path: '/page/component/pagination/index'
  },
  {
    name: '字母检索表',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN019adCyT1JGV9umqIyM_!!6000000001001-2-tps-60-60.png',
    nameEn: 'Alphabet',
    path: '/page/component/alphabet/index'
  },
  {
    name: '步进器',
    thumb:
      'https://gw.alicdn.com/imgextra/i3/O1CN01WpdmS91H8b5rrczt2_!!6000000000713-2-tps-60-60.png',
    nameEn: 'Stepper',
    path: '/page/component/stepper/stepper'
  },
  {
    name: '日历',
    thumb:
      'https://gw.alicdn.com/imgextra/i3/O1CN01Pshx6k1GZKb2dzK2B_!!6000000000636-2-tps-60-60.png',
    nameEn: 'Calendar',
    path: '/page/component/calendar/calendar'
  },
  {
    name: '图标',
    thumb:
      'https://gw.alicdn.com/imgextra/i4/O1CN01wi6PuS1g5j0CFKuLp_!!6000000004091-2-tps-60-60.png',
    nameEn: 'Am-icon',
    path: '/page/component/am-icon/am-icon'
  },
  {
    name: 'loading 加载',
    thumb:
      'https://gw.alicdn.com/imgextra/i2/O1CN01BHdirM1loDYakru1b_!!6000000004865-2-tps-60-60.png',
    nameEn: 'Loading',
    path: '/page/component/loading/loading'
  }
]

const extComponentList = [
  {
    type: '布局导航',
    list: extContainers
  },
  {
    type: '操作浮层',
    list: pops
  },
  {
    type: '结果类',
    list: results
  },
  {
    type: '提示引导',
    list: tips
  },
  {
    type: '表单类',
    list: extForms
  },
  {
    type: '手势类',
    list: gestures
  },
  {
    type: '其他',
    list: others
  }
]

Page({
  data: {
    top: 0,
    hot: [
      { name: 'ScrollView', url: '/page/component/scroll-view/scroll-view' },
      { name: '地图', url: '/page/component/map/map' },
      { name: 'Icon', url: '/page/component/icon/icon' },
      { name: 'Card', url: '/page/component/card/card' },
      { name: '获取授权码', url: '/page/API/get-auth-code/get-auth-code' },
      { name: 'Popup', url: '/page/component/popup/popup' },
      { name: '发起HTTP请求', url: '/page/API/request/request' },
      { name: '画布', url: '/page/component/canvas/canvas' },
      { name: '导航', url: '/page/API/navigator/navigator' }
    ],
    tabs: ['基础组件', '扩展组件'],
    activeTab: 0,
    basicComponentList,
    extComponentList,
    titleOpacity: 1,
    shadow: false
  },
  onPageScroll(e) {
    const { scrollTop } = e
    let titleOpacity = 1 - scrollTop * 0.02
    let shadow = false

    if (titleOpacity < 0) {
      titleOpacity = 0
    }

    if (titleOpacity > 1) {
      titleOpacity = 1
    }

    if (scrollTop > 80) {
      my.setNavigationBar({
        title: '小程序官方示例'
      })
    } else {
      my.setNavigationBar({
        title: ' '
      })
    }

    if (scrollTop > 320) {
      shadow = true
    } else {
      shadow = false
    }

    this.setData({
      shadow,
      titleOpacity
    })
  },
  onSearchBarTap() {
    my.navigateTo({
      url: '/page/common/search/search'
    })
  },
  onTabBarTap(e) {
    const { index } = e.currentTarget.dataset
    this.setData({
      activeTab: index
    })
  },
  onLoad() {
    my.getSystemInfo({
      success: (res) => {
        if (res.statusBarHeight && res.titleBarHeight) {
          this.setData({
            top: res.statusBarHeight + res.titleBarHeight
          })
        }
      }
    })
  },
  goDevCenter() {
    my.navigateToMiniProgram({
      appId: '2018082061148052',
      path: 'pages/discover/discover',
      extraData: {
        from: 'miniDemo'
      }
    })
  },
  openPage(e) {
    my.navigateTo({
      url: e.target.dataset.url
    })
  }
})
